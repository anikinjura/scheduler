# Метод `_update_config_for_step()`

## Версия
**0.0.1**

## Описание
Метод `_update_config_for_step()` временно обновляет конфигурацию парсера для выполнения конкретного шага мульти-шаговой обработки. Метод сохраняет оригинальную конфигурацию и применяет параметры из конфигурации шага, исключая служебные ключи. Возвращает копию оригинальной конфигурации для последующего восстановления.

## Сигнатура
```python
def _update_config_for_step(self, step_config)
```

## Параметры
- **step_config** (`dict`): Конфигурация конкретного шага, содержащая параметры для обновления основной конфигурации

## Возвращаемое значение
Копию оригинальной конфигурации до обновления, которую можно использовать для восстановления

## Исключаемые служебные ключи
Метод исключает следующие ключи из обновления конфигурации:
- `processing_type`
- `data_extraction`
- `table_processing`
- `nested_processing`
- `result_key`

## Изменения в версии 0.0.1
- Метод используется в `_execute_single_step()` для временного обновления конфигурации
- Параметры из обновленной конфигурации влияют на формирование `target_url`, который затем используется для создания `__STEP_SOURCE_URL__`
- `__STEP_SOURCE_URL__` из всех шагов используется для формирования `__SOURCE_URL__` как общего префикса всех URL с помощью метода `_get_common_url_prefix()`

## Пример использования
```python
step_config = {
    "base_url": "https://turbo-pvz.ozon.ru/reports/giveout",
    "filter_template": "?filter=...",
    "processing_type": "simple",  # этот ключ будет исключен из обновления конфигурации
    "result_key": "giveout_count"  # этот ключ будет исключен из обновления конфигурации
}

original_config = parser._update_config_for_step(step_config)
# Выполнение шага с обновленной конфигурацией
# ...
# Восстановление оригинальной конфигурации
parser.config.update(original_config)
```

## Особенности реализации
- Метод используется в `_execute_single_step()` для временного обновления конфигурации перед выполнением шага
- Обновленная конфигурация влияет на формирование `target_url` в методе `navigate_to_target()`
- `target_url` используется для создания `__STEP_SOURCE_URL__`, который добавляется к результату шага
- `__STEP_SOURCE_URL__` из всех шагов используется для формирования `__SOURCE_URL__` как общего префикса всех URL с помощью метода `_get_common_url_prefix()`